# SQL Injections (SQLi)

## [Blind SQL Injection](https://owasp.org/www-community/attacks/Blind_SQL_Injection)

Blind SQLi is a type of SQL Injection attack that asks the database true or false questions and determines the answer based on the application's response. It is nearly identical to normal SQL Injection, the only difference being the way the data is retrieved from the database. This attack is often used when the web application is configured to show generic error messages, but has not mitigated the code that is vulnerable to SQL injection.

Example from Natas level15:

```php
$link = mysql_connect('localhost', 'natas15', '<censored>');
mysql_select_db('natas15', $link);

$query = "SELECT * from users where username=\"".$_REQUEST["username"]."\"";

$res = mysql_query($query, $link);
if($res) {
    if(mysql_num_rows($res) > 0) {
        echo "This user exists.<br>";
    } else {
        echo "This user doesn't exist.<br>";
    }
} else {
    echo "Error in query.<br>";
}
```

In this example, the code is vulnerable but we cannot retrieve the results from the database. Instead, we can ask questions through SQLi like:

1. "Does the password start with `x`? `SELECT * from users where username="natas16" AND password LIKE BINARY "x%"`
2. "Does the password start with `xy`? `SELECT * from users where username="natas16" AND password LIKE BINARY "xy%"`
3. "Does the password start with `xyz`? `SELECT * from users where username="natas16" AND password LIKE BINARY "xyz%"`

<b><u>Note</u></b>: We use the `BINARY` keyword in order to perform a case-sensitive comparison in all cases. See [here](https://stackoverflow.com/questions/15504554/sql-vs-like-vs-like-binary-not-case-sensitive) for more in-depth information.

etc. Thus we construct slowly the password in this example.

## SQLi Payloads

In this section we will give references to SQL injection payloads for various DBMS systems.

* SQL Injections for [SQLite DBMS](https://www.exploit-db.com/docs/english/41397-injecting-sqlite-database-based-applications.pdf)
