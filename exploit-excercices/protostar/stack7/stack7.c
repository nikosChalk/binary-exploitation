#include <stdlib.h>
#include <unistd.h>
#include <stdio.h>
#include <string.h>

char *getpath()
{

  //Stack Size: 104 = 0x68 Bytes
  //esp
  //esp+0x1c == ebp-0x4c  Buffer [Start]
  //esp+0x5c              Buffer (end)
  //...

  char buffer[64];
  unsigned int ret;

  printf("input path please: "); fflush(stdout);

  gets(buffer);

  ret = __builtin_return_address(0);

  if((ret & 0xb0000000) == 0xb0000000) {
      printf("bzzzt (%p)", ret);
      _exit(1);
  }

  printf("got path %s", buffer);
  return strdup(buffer);
}

int main(int argc, char **argv)
{

  getpath();

}
